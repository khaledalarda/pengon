// Scene 2 styles
@use "variables" as *;
@use "mixins" as *;

.scene2 {
  @include scene-base;
}

// Parallax layer initial states
.background-layer {
  z-index: $z-background;
}

.layer-sun {
  z-index: $z-sun;
  transform: translate(-50%, -20%);
}

.sun-backdrop-layer {
  z-index: 100;
  transform: translate(-50%, -20%);
}

.backdrop-layer {
  z-index: 99;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.7;
  background: black;
}

// Parallax layers with consistent structure
.layer-bank {
  @include parallax-layer($z-layers, 0, 0, 50vh);
  transform: rotate(-20deg) scale(1.2);
  left: 0%;
  top: 50vh;
  width: 100%;
  height: 140%;
}

.layer-flowers {
  @include parallax-layer($z-flowers, 0, 0, 0);
  // Initial state for scaling animation
  transform: scale(0.3);
  width: 89%;
  height: 87%;
  top: 120px;
  left: -10%;
}

.layer-smoke {
  @include parallax-layer($z-smoke, 0, 0, -50vh);
}

.layer-squeezer {
  @include parallax-layer($z-squeezer, 0, 0, 0);
  position: absolute;
  left: -6%;
  scale: 0;
}

.layer-trash {
  @include parallax-layer($z-trash, 1, 0, 0);
  .layer-truck-container {
    scale: 0.2;
    transform: scaleX(-1);
    position: absolute;

    .truck-trash-container {
      position: absolute;
      top: -7%;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .truck-trash {
      position: absolute;
      width: 100%;
      height: 100%;
    }

    .trash-bg {
      transform: scaleX(-1) rotate(-28deg);
      scale: 1.4;
      left: -30%;
      top: -47%;
    }

    .trash-bg2 {
      transform: scaleX(-1) rotate(-28deg);
      scale: 1.4;
      left: -30%;
      top: -47%;
    }

    .trash-wires {
      transform: scaleX(-1) rotate(-91deg);
      scale: 1.4;
      left: -9%;
      top: -56%;
    }

    .trash-barrel {
      transform: scaleX(-1);
      scale: 1.5;
      left: -45%;
    }

    .trash-blood {
      transform: scaleX(-1);
      left: -6%;
      top: -27%;
    }

    .trash-electronics {
      transform: scaleX(-1);
      top: -70%;
      left: -50%;
    }
  }
}

.layer-truck {
  @include parallax-layer($z-truck, 1, 0, 0);
  .layer-truck-container {
    scale: 0.2;
    transform: scaleX(-1);
    position: absolute;

    .truck-trash-container {
      position: absolute;
      top: -7%;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .truck-bag {
      position: absolute;
      width: 100%;
      height: 100%;
    }
  }
}

.truck-path {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 100;
  pointer-events: auto;
}
